name: script
comment: |
  Pythonスクリプトを実行して、データ処理を記述します。
  複雑なフィルタ処理や、項目変換処理等をPythonスクリプトで記述できます。
  スクリプトコマンド初期化時に、モジュールのインポートする事も可能です。
  modulesプロパティに、
  モジュールエイリアス名： モジュール名
  という形式で、インポートしたいモジュール名を指定します。

  modules:
    pd: "pandas"

  という記述であれば、
  ```
  import pandas as pd
  ```
  とインポートされた状態で、`pd`がスクリプト内で
  利用できます。

parameters: # パラメータの仕様を記述します
  script:
    type: string
    comment: Pthonスクリプトを記述します。
    require: true
    default: |
      def proc(rows):
          newRows = []
          for row in rows:
              row.name = 'abc'
              row.field = 'ghi'
              newRows.append(dict(newRow))
          return newRows

  modules:
    type: dict
    comment: スクリプト内で利用するモジュールを記述します。
    require: no
    default:
      re: "re"
      pd: "pandas"

sample:
  - type: script
    comment: Pythonスクリプト処理
    debug: no
    parameters:
      script: |
        def proc(rows):
            newRows = []
            for row in rows:  # 辞書属性は、.属性名でアクセスできます。
                row.name = 'abc'
                row.field = 'ghi'
                newRows.append(dict(newRow))
            return newRows

      modules:
        re: "re"
        pd: "pandas"
